import{r as i,a2 as j,a3 as e,u as _,j as s,a1 as g,B as H}from"./index-D0NLoYlS.js";import{M as N,a as p}from"./widget-DZGndchz.js";import{M as C,a as T,b,c as F,d as G}from"./widget-C2hivEk4.js";import{u as f,d as L,N as y,a as v,b as m,F as I,S as O,c as D}from"./widget-DZWbN5IQ.js";import{u as P,M as k,a as B}from"./store-BDzDOKkQ.js";const $={"search-results":"_search-results_xy6bb_1"},U=()=>{var h,S,l;const[r,A]=j(),o=r.get(e.TRASH_PAGE.SEARCH_PARAMS.PAGE),R=r.get(e.TRASH_PAGE.SEARCH_PARAMS.NAME),u=f(R,500),d=P(t=>t.searchLimit),E=P(t=>t.searchFormat),a=L({name:u??void 0,page:o?Number(o):void 0,limit:d}),x=((h=a.data)==null?void 0:h.count)??0,n=Number(r.get(e.TRASH_PAGE.SEARCH_PARAMS.PAGE)??1),c=Math.ceil(x/d);i.useEffect(()=>{a.isSuccess&&n>c&&A(t=>({[e.TRASH_PAGE.SEARCH_PARAMS.PAGE]:"1",[e.TRASH_PAGE.SEARCH_PARAMS.NAME]:t.get(e.TRASH_PAGE.SEARCH_PARAMS.NAME)??""}))},[n,c,a.isSuccess]);const M=_(()=>{A(t=>({...Object.fromEntries(t),[e.TRASH_PAGE.SEARCH_PARAMS.PAGE]:"1",[e.TRASH_PAGE.SEARCH_PARAMS.NAME]:""}))});return s.jsxs("div",{className:$["search-results"],children:[s.jsx(g,{visible:a.isFetching,position:"absolute",description:"Loading notes"}),a.isSuccess&&!((S=a.data.data)!=null&&S.length)&&s.jsxs(y,{children:[s.jsx(v,{children:"No deleted notes found"}),s.jsx(m,{children:u&&o&&s.jsx(m,{children:s.jsx(H,{onClick:M,children:"Clear your search and try again"})})})]}),a.isSuccess&&!!((l=a.data.data)!=null&&l.length)&&s.jsxs(i.Fragment,{children:[s.jsx(I,{notes:a.data.data,format:E}),s.jsx(O,{currentPage:n,maximumPage:c})]})]})},V=i.memo(U),q=()=>s.jsxs(C,{children:[s.jsx(T,{children:s.jsx(N,{})}),s.jsxs(b,{children:[s.jsx(k,{children:s.jsx(B,{children:"Trash"})}),s.jsxs(p,{children:[s.jsx(D,{}),s.jsx(V,{})]})]}),s.jsx(F,{children:s.jsx(G,{})})]}),W=q;export{W as TrashPage};
